<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Random Dog Photo Gallery</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

     <!-- Let's make a randomized dog photo gallery!

Write a function that makes an API call to https://dog.ceo/api/breeds/image/random. It should trigger after clicking a button in your webpage. Every time the button is clicked it should append a new dog image to the DOM.

Create an index.html file that will display your random image
Add 2 <button> and 1 <ul> element, either in the HTML or through JavaScript
Write two versions for the button functionality: one with XMLHttpRequest, and the other with axios
When any one of the 2 buttons is clicked it should make an API call to https://dog.ceo/api/breeds/image/random
After receiving the data, append to the <ul> a <li> that contains an <img> element with the dog image
Incorporate error handling -->

</head>
<body>
    <button id="button1">
        Add a doggy photo with XHR
    </button>
    <button id="button2">
            Add a doggy photo with axios
        </button>
    
    <ul class="ul"></ul>
   



    <script>
    let btn1 = document.querySelector('#button1')
    let btn2 = document.querySelector('#button2')
    let ul = document.querySelector('.ul')
    btn1.addEventListener("click", withXHR);
    btn2.addEventListener("click", withAxios);


// 1. XMLHttpRequest

    

    function withXHR() {
        var oReq = new XMLHttpRequest();
        oReq.open('GET', 'https://dog.ceo/api/breeds/image/random');
        oReq.send();
        oReq.onload = function(){
            if(oReq.status == 200){
                console.log('success')
                const data = JSON.parse(oReq.responseText);
                console.log(data)
                console.log(data.message)
                
                let li =document.createElement('li')
                ul.appendChild(li)
                let img =document.createElement('img')
                li.appendChild(img)
                img.src = data.message
            }else{
                console.log('error!')
            }
        }   
    }

    
    // 2. axios
    let data
    function withAxios(){
        axios.get('https://dog.ceo/api/breeds/image/random')

        .then(
            function (response) {
            console.log(response);
            data=response.data.message
            console.log(data)

            let li =document.createElement('li')
            ul.appendChild(li)
            let img =document.createElement('img')
            li.appendChild(img)
            img.src = data
         })

        .catch(function (error) {
            console.log('error');
        })
        .finally(function () {

        });  


    }
    

    


        
    
    
    </script>
</body>
</html>